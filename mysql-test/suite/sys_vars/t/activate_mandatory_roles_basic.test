--echo #
--echo # WL#16597: Remove the deprecated host wildcard match behavior of schema and object level grants
--echo #

SET @saved_activate_mandatory_roles = @@global.activate_mandatory_roles;
SET GLOBAL activate_mandatory_roles = DEFAULT;
--echo test: FR1.1 and FR1.2: 1 Expected
SELECT @@GLOBAL.activate_mandatory_roles;

--echo test: FR1.4: should work
SET @@GLOBAL.activate_mandatory_roles=1;
--echo test: 1 Expected
SELECT @@GLOBAL.activate_mandatory_roles;

--echo test: 1 Expected
SELECT @@activate_mandatory_roles = @@GLOBAL.activate_mandatory_roles;

--echo test: FR1.3: Expected error 'Variable is a GLOBAL variable'
--Error ER_INCORRECT_GLOBAL_LOCAL_VAR
SELECT @@local.activate_mandatory_roles;

--echo Test: Expected error 'Variable is a GLOBAL variable'
--Error ER_INCORRECT_GLOBAL_LOCAL_VAR
SELECT @@SESSION.activate_mandatory_roles;

SET @@GLOBAL.activate_mandatory_roles = DEFAULT;
--echo Test: 1 Expected
SELECT @@GLOBAL.activate_mandatory_roles;

# Cleanup
SET GLOBAL activate_mandatory_roles = @saved_activate_mandatory_roles;