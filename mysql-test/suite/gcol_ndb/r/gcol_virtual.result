create table pear(x int primary key) engine=ndbcluster;
create table lemon(a int primary key,
v int generated always as (a+1) virtual,
x int,
y int,
foreign key (x) references pear(x)) engine=ndbcluster;
alter table lemon algorithm=inplace, rename column x to z;
ERROR 0A000: ALTER TABLE is not supported. Reason: Altering name of a field being referenced from a foreign key is not supported. Try dropping foreign key first.
show warnings;
Level	Code	Message
Error	1846	ALTER TABLE is not supported. Reason: Altering name of a field being referenced from a foreign key is not supported. Try dropping foreign key first.
alter table lemon algorithm=inplace, rename column y to w;
drop tables lemon,pear;
