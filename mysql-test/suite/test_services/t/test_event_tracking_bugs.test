--echo #
--echo # Bug#38262728: Error when installing component_test_event_tracker_producer_a
--echo #

CALL mtr.add_suppression('An event of type .* is missing extra data and cannot be processed by the server.s component plugin bridge');

--echo # Test: should produce warnings in the error log
INSTALL COMPONENT "file://component_test_event_tracking_producer_a";

--let $assert_select=An event of type General is missing extra data and cannot be processed by the server's component plugin bridge
--let $assert_count=4
--let $assert_text=General warning found.
--let $assert_file=$MYSQLTEST_VARDIR/log/mysqld.1.err
--source include/assert_grep.inc

--let $assert_select=An event of type Authentication is missing extra data and cannot be processed by the server's component plugin bridge
--let $assert_count=5
--let $assert_text=Authentication warning found.
--let $assert_file=$MYSQLTEST_VARDIR/log/mysqld.1.err
--source include/assert_grep.inc

--echo # Cleanup
UNINSTALL COMPONENT "file://component_test_event_tracking_producer_a";

--echo # End of 9.5 tests
