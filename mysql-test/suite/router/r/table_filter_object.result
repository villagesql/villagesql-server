# MySQL Rest Service schema created.
# MySQL Rest Service, server accounts configured.
# DB `basic_schema` - created


## I. Verify constrains on FilterObject
#
# 1. Verify that FilterObject doesn't accept other types than JsonObject and null.
# 2. Verify that "" opertator doesn't accept other types than null.
#
## II. Verify valid options for FilterObject from point I
#
# 1. Verify that FilterObject may be empty.
# 2. Verify that FilterObject may be an empty JsonObject.
# 3. Verify that FilterObject may be a null JsonValue.
# 4. Verify that "" operator accepts null JsonValue.
#
# Registred SERVICE at path: /svc
# Registred DB_SCHEMA at path: /svc/basic
# Registred DB_OBJECT at path: /svc/basic/table

#
# I.1
GET /svc/basic/table?q=10
{
    "message": "`FilterObject` must be a json object.",
    "status": 400
}
OK
GET /svc/basic/table?q=String
{
    "message": "Value used for `FilterObject` is not JSON.",
    "status": 400
}
OK
GET /svc/basic/table?q=true
{
    "message": "`FilterObject` must be a json object.",
    "status": 400
}
OK
GET /svc/basic/table?q=%5B%5D
{
    "message": "`FilterObject` must be a json object.",
    "status": 400
}
OK

#
# I.2
GET /svc/basic/table?q=%7B%22comments%22:%7B%22%24null%22:%22invalid-value%22%7D%7D
{
    "message": "Operator '$null' in Filter object accepts only null value.",
    "status": 400
}
OK
GET /svc/basic/table?q=%7B%22comments%22:%7B%22%24notnull%22:%22invalid-value%22%7D%7D
{
    "message": "Operator '$notnull' in Filter object accepts only null value.",
    "status": 400
}
OK

#
# II.1
Ok(200)

#
# II.2
Ok(200)

#
# II.3
Ok(200)

#
# II.4
Ok(200)
DROP SCHEMA basic_schema;
DROP SCHEMA mysql_rest_service_metadata;
DROP ROLE mysql_rest_service_admin;
DROP ROLE mysql_rest_service_schema_admin;
DROP ROLE mysql_rest_service_meta_provider;
DROP ROLE mysql_rest_service_data_provider;
DROP ROLE mysql_rest_service_dev;
